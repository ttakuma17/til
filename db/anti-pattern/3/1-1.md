課題1

前提
- 「どのようにテーブルを分けるか」「どのカラムにどの情報を格納するか」の2点のみ考える

どういう問題が生じうるか
- Commentテーブルが肥大化していく
  - 現状は漫画と小説だけだが、他の種類の書籍が増えたときに現行の仕様だとCommentテーブルへtypeを増やしていくという方針になりそう。
- Commentに記録する項目が増えたときには、全書籍に対してその変更が反映される
- belongs_to_idが2つの意味を持っている
  - 本来適切に正規化していれば、なんのIDかがわかる
  - SQLの実行のたびに type を指定してあげる必要があり、アプリケーション側にロジックが増える。
  - Commentテーブルを前提にJOINしないといけなくなるので、パフォーマンスがCommentテーブルに依存して決まりうる
- typeカラムは本来いらない。
  - Commentテーブルのうち、belongs_to_idがどちらのidかわからないからtypeというカラムを増やすことになっている
- 書籍にtagをつけたいってなったら、おそらくCommentのテーブル設計に引きづられて、tagも同じように意思決定をする理由になってしまう
