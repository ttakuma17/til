# 2-2
- 現行のテーブルでカウント可能
  - ```sql
    select TO_CHAR(orderdetails.created_at, 'YYYY-MM') AS sales_month ,sum(quantity) as total
    from orderdetails
    join products on orderdetails.product_id = products.id
    WHERE product_category_id = 2
    group by products.product_category_id, TO_CHAR(orderdetails.created_at, 'YYYY-MM');
    ``` 
  - 条件として、ProductCategoryがお好み寿司のものをカウントする。product_category_idが2のものがお好み寿司

### メモ
- timestamp型で桁の指定までしていない。ミリ秒レベルのデータが入っているがここまでの粒度で必要か？不要であれば、DDL流すときにテーブル定義時に調整しておくこと
- 日付の絞り込みにTO＿CHARの関数を使っている。表示に関してもSQL側で加工している。SQL側でここまでやるかどうか？は考えるポイント
- 