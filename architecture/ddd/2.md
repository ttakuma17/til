## 課題2

### 課題2-1

境界づけられたコンテキストの実例を一つ挙げてください。

- 商品というユビキタス言語を定義していた場合に、マーケティングの部署では商品のことを販売した商品、物流の部署では商品のことを在庫という言葉を使っていた場合、同じ商品だとしても違う意味を持っていることになる

### 課題2-2

以下のプロパティを持つ「Human」エンティティを作成してください。

- 識別子(ID)
- 血液型
- 生年月日
- 名前

```typescript
class Human {
    constructor(
        public readonly _id: string,
        public _bloodType: string,
        public _dateOfBirth: string,
        public _name: string
    ){}
}
```

### 課題2-3

上記のHumanモデリングを担当した新人エンジニアからこんな事を聞かれました。

Humanクラスを設計しろと言われたので[こんなコード](https://www.typescriptlang.org/play?#code/MYGwhgzhAEASCuBbMA7aBvAUNH1gHsUIAXAJ3mGP1IAoAHeAIxAEthpSBTMAE0JACe0FjwBc0EqRYoA5gBpoDZmw7c+KQdGb58PYgLqdxk6fMVNW7Lr35DGLUsQAWPMMSPQAIm84Kll1RsNIRQwRA8TWQBKDGxceJYAM2gaAEJnFggAOgA3MFYeAAVSfDoIGnQROW1dfUNqh2dXdzlQ8IBfKJj0aGcSgHdoFE5BgFFSEtoAcmk8gsUSuimY9ricVbWFljz3aDmRYtLyukWIcUqxCTJTBRq9Awjr2VvGlx9xbxahsMepWU7xIwdCBuGgsPF4lxiPBSGgMtl9jwAJI8einLIiGIAMixvScmVy+REACEQDp7oY0Ucsnc6pxsbj4YSCsTXs1OFSyjS2T4GXiCYiAHI-TnZNr0zareInbY+PZE5GoubwX6mKKiIH4EGoDDQAD0ACpoIBIc0AnUqAKwYkZ5AOYMgCEGQDRDIBouUAdgyABYZAFcMgHGGQA-DIB2hkA5wyAZ4ZAEkMgBkIwBiDNADXrVNDYb1yJxoFLcDKdknEaTyXSaMrVdENcDQbrDSaLYABCMATbaAaPU7U63V6-UGw5Ho7GYXDE8nNmm5Zmee4aPZHG93B9eYWtcWeqWzebAPiugBc9QAQ5oBT0zrLo9PoDIYjUZjUI7CZV3elUnT8oKwvCNHFxieMnVmu1YP1RrngFgVQCyShuG9vm3ubaHvGZAnqsGxAA)を書いたら、別の先輩に『プロパティはデータ型じゃなくて値オブジェクトにしておいて』って言われたんです。何がダメなんですか？
さて、何がいけないのでしょう？

- データ型を使用していることで、validXXXなどのメソッドが必要になってしまっていること
- エンティティの作成時点で不正なエンティティが作成されることを許容する構成になっている
- Client側がHumanクラスに問い合わせをしないとHumanクラスが正常な状態か不正な状態かわからなくなっている。これによってClient側では結果を元に処理を継続できるかの判定を行う必要がでてきてしまい、ビジネスロジックが呼び出し側に書く必要が出てきてしまう
- 値オブジェクトを使うとそもそもエンティティの作成時点でValidかどうかを判定してエラーを返すことができるので、データ型をプロパティにするよりも堅牢にできる

### 課題2-4

先ほど新人エンジニアが作成した「Human」エンティティの各プロパティを値オブジェクトに置き換えてください。それぞれの値オブジェクトには以下のルールが存在します。

- ID：英数字のみ許容（!や$などの特殊記号は利用不可）
- 血液型：a,b,o,ab以外の値は設定できない
- 生年月日：20歳以上の生年月日しか設定できない
- 名前：20文字未満でなければいけない

```typescript
class Human {
    constructor(
        public readonly _id: ID,
        public _bloodType: BloodType,
        public _dateOfBirth: DateOfbirth,
        public _name: Name
    ){}
}


```

// TODO
- BrandedTypeとかつかわないと実現できないやつか？