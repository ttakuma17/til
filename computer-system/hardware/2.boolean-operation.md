# 2. ブール算術

## 算術演算

### 加算

### 符号変換

### 減算

### 乗算

### 除算

### 比較

## 2進数

コンピュータの内部ではあらゆるものがバイナリコードで表される。  
- 素数の例は？で1キー、9キー、Enterキーと順に押すと、コンピュータのメモリには、10011というバイナリコードが格納される  
- その素数を画面に表示するようにコンピュータに依頼すると、OSが10011を10進数に変換して、19であることがわかる。その後、整数値を「1」と「9」という文字に変換する
- そして、現在のフォントを調べて、2つの文字のビットマップ画像を取得して、画面ドライバに画面のピクセルを操作させ、19という数字が画面に表示される。

- バイナリ表現
  - コンピュータがデータを処理する際に「0」と「1」の2進数で表現するデータ形式

- ビットマップ画像
    - https://wa3.i-3-i.info/word18544.html

## 固定ワードサイズ

- コンピュータが基本的な処理単位を表現するのに使用するビット数のこと。
    - 整数は無限に続く、がコンピュータは有限の機会なので、数を表現するために決まったサイズを使う
- 整数表現するとき
    - 8,16,32,64ビットのレジスタが使われる。このレジスタは固定のサイズ
    - プログラミング言語のデータ型でいうと、8bit = byte, 16bit = short, 32bit = int, 64bit = longに対応する。
    - nビット使うと、0から2^n-1までの整数を表現できる

- レジスタ
    - コンピュータのCPUの中にある、データを一時的に保存する記憶装置
    - https://wa3.i-3-i.info/word1518.html

- レジスタの範囲を超えた数値をどう扱っているのか
    - 一般的には、数値を表現するのに必要な数だけ、nビットのレジスタを並べて実装される。

## 2進数の加算

- 最下位ビット(Least Significant Bit)
    - 一番右の桁
- キャリービット(桁上りビット)
    - 最下位ビットの加算で、桁が上がった場合に、その桁の値
- 最上位ビット(Most Significant Bit)
    - 一番左の桁

- オーバーフロー
    - 最上位ビットの加算の和で、そのキャリービットの値が1のときはオーバーフローが発生したことになる。
    - オーバーフローにどう対応するかは設計者次第
    - 無視するという選択肢もあり、その場合は、2つのnビットを加算した結果が決めたnビットまで正しいことを保証すれば良いという考え方になる。
- オーバーフローの例
    - 8bitのレジスタで、127 + 1を計算すると、-128になる。
    - この場合、オーバーフローが発生している。
    - オーバーフローが発生した場合、コンピュータはその結果を無視して、エラーを返す。

## 符号付き2進数

- バイナリコードで符号付き数字(正と負)を表現するには、2^n通りの領域を2つにわけることが自然な方法になる。
- 現代ほとんどすべてのコンピュータで用いられる方式が、2の補数と呼ばれる方式
  - 別名、基数の補数とも呼ばれる
- nビットのワードサイズで2の補数を使うと、マイナスx = 2^n - x となる。
  - 4ビットのワードサイズで -7 を表すとすると、2^4 - 7 = 9 となる。
  - つまり、-7 は 9 という数値を表すことになる。
  - このように、2の補数を使うと、マイナスの数値を表現できる。

![4ビットの2進数における2の補数表現](../img/radix-complement.png)

- 2の補数のメリット
    - 2^n個の符号付き整数を表すことができる
    - 範囲は -(2^(n-1)) から 2^(n-1) - 1 まで
    - 非負の数のコードは先頭ビットの値が1から始まる
    - 負の数のコードは先頭ビットの値が1から始まる
    - xのバイナリコードから-xのバイナリコードを得るには、
        - xの「最下位ビット」と「一番右側の1ビット」を反転させて、その結果に1を足すと実現できる
        - xのすべてのビットを反転させて、その結果に1を足すことで実現できる
    - 加算と減算がどうように扱える

## 加算器

### 半加算器
- 2つのビットの和を求める

### 全加算器
- 3つのビットの和を求める

### 加算器
- 2つのビットの和を求める

### インククリメンタ

## ALU （算術論理演算器）

TODO - p51のうごきをちゃんと理解すること
